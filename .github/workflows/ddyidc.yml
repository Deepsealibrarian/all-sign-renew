      - name: 从文件读取需要签到的ID
        run: |
          sudo apt-get install -y jq
          
          # 1. 强制在 Actions 里生成一个新的、绝对干净的 sign.json
          # 这样可以 100% 避开你本地文件的编码问题
          cat > sign.json <<EOF
          {
            "ddyidc": [1332],
            "yfidc": [114514, 123456],
            "anvps": [114514, 123456]
          }
          EOF

          # 2. 读取刚刚生成的干净文件
          uid_list=$(jq -r '.ddyidc[]' sign.json)
          
          # 3. 执行循环
          for uid in $uid_list; do
            echo "即将签到用户: $uid"
            response=$(curl -s -X POST -d "uid=${uid}" "https://dadongyun.com/addons?_plugin=26&_controller=index&_action=index")
            
            # 增加一个容错判断，防止服务器返回空内容
            if [ -z "$response" ]; then
              echo "错误：服务器未返回内容"
            else
              msg=$(echo "$response" | jq -r '.msg' 2>/dev/null || echo "返回内容非 JSON 格式")
              echo "用户 $uid : $msg"
            fi
          done
